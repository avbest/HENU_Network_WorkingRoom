## 目录

[例外规定](#例外规定)

[一.命名规范](#short)
- [短命名](#short)
- [简化命名](#easier)
- [规范化前缀](#prefix)

[二.注释规范](#注释规范)
- [格式化](#格式化)
- [写什么](#写什么)

[三.代码规范](#代码规范)
- [功能安排](#功能安排)
- [内容安排](#内容安排)

## 例外规定

对于语言本身局限导致的无意义代码，不做要求.
但如果这部分代码需要投入使用，且使用时存在容易造成困惑的设定，请务必提供注释以避免误用.

## 命名规范

<h3 id="short">一. 短命名</h3>

首先，命名在不影响意义表达的情况下，自然是越短越好，但也不要过于长，需要掌握一个程度，在大部分人的电脑上都能在一行内显示完.

这里还需要提及，代码在一行内不要太长，对于支持命名参数的语言，应该把函数调用分行写.

> 比如说Kotlin？其实现代一点的编程语言都支持这个了，所以这种写法应该推广开

在什么情况下适合短命名呢？

1. 对于一些默认的单词缩写，大家都承认并知道是对应什么单词的那种缩写，可以直接使用.

> 比如说，<code>docVer</code>，<code>strName</code>之类的
> 在平时编程时取的变量名大体上都符合此规范

2. 临时变量，封装起来的变量，不参与合作编写部分的变量都可以采用短命名，这一部分遵照个人习惯

3. 特定语言群体形成的约定俗成的命名规范，或官方建议的命名规范，保持使用

<h3 id="easier">二. 简化命名</h3>

如果是符合类型的变量，名字应该与其成员名合作表达一个完整的含义

> 比如说，`User.name`，内部成员名应该和类/对象名搭配

另外，变量名应该是常见的短语组合，而不是冷门短语组合. 当然，在ai辅助下，这一点应该不用很关心.

<h3 id="prefix">三. 规范化前缀</h3>

考虑到C是大家目前共识度最高的语言，所以**统一采用**驼峰命名法

在这里简要介绍驼峰命名法，顾名思义，命名像驼峰一样有高有低.
一个变量名应以小写部分开头，剩下的单词组成首字母均大写.

> 比如说，`strName`，前缀的小写通常代表变量类型，而后面的部分则是有意义的单词组成，首字母大写
> 对于弱类型语言（如JS, Python），这一点尤其需要注意，因为语言本身不检查类型，就需要我们自己检查了
> 必要时可以使用静态类型检查，这一点在后续会商议

关于类型前缀：不同的语言有不同的类型，参照自己语言认可度较高的类型前缀.

## 注释规范

注释是必须要写的！尽管我们可以使代码越来越容易理解，但总归没有直接的文字描述来的直观.
但注释要写什么，怎么写，也是一个关键的问题，这里也要做出规范.
> 不写注释是很差的习惯，必须要避免。在后面的部分，也会讲解一些常见的需要避免的坏习惯

### 格式化

在语言支持的情况下，尽量使用JavaDoc类型的注释. 对于不支持文档注释的语言，可以有自己的文风.
但不能写的难以理解.

> 支持文档注释的语言其实并不少，Java算是很典型的一个，基于它的语言（比如说Kotlin）也支持这个
> 其他的还有JS（和基于它的TS）之类的，至于具体怎么使用就要看各自的支持情况了

文本语言方面，仅支持中英，选择自己倾向的语言即可，但无论是哪个语言，用词都要尽可能简单化平凡化.

> 在这里还要提到，对于commit必须全英，需要考虑到编码问题.

如果不适用文档注释，需要保证自己写的注释有合适的分段，不能挤在一起，内容布局要合理.

> 不能把注释“写成一团”，至少要适合阅读，不至于让人失去阅读兴趣

当然，这一点对代码来说也是. 即使不是缩进敏感的语言，代码的缩进也要保持尽量一致，不能差别太大.

> 缩进敏感的语言其实不多，可能大家认识的缩进语言只有python，但其实并不建议在投产项目中使用这种语言，因为一旦传输过程中空白字符发生了什么变化，结果都是未知的.

### 写什么

对于一个源代码文件，它必须以注释开头.（对于多行，使用多行注释）
文件头部的注释应包含文件名，该文件的作用概述，版本控制相关的信息.

> 比如说，
> `
> /* 
>     main_implementation.cpp -- Your features information
>     
>     Overall summary, write using your own style.
> 
>     Version control: For example, "Last modified ..."
> 
> `
> 
对于一个头文件/模块文件等提供扩展功能的文件，应该在注释头包括源代码包含的所有信息，以及其中核心的函数及其功能概述.

> 这个可以参考别人写过的，能开源出来的一般写的都很规范，当然，不那么详细就是了.

在文件内部，每一个类/对象等复合类型，每一个函数都应该有注释，它应该包括其功能概述.
其内部每个方法（函数）都应该做注释来解释它是什么功能的，使用者应该如何使用它，它的每个参数意义都是什么，以及使用时应该注意些什么.

> 这一部分可以参考java的各种包代码，能开源包的开发者，通常在这一点上都做的很好

若一个功能需要使用到语言未公开的或冷门的特性（如语法糖），或者思路不很直观，则这部分需要做注释，解释它的原理是什么，以及发现人是谁.
若它不是开发者本人发现的，在可能的情况，注明它的来源.

> 对于不从事c系开发的人员来说，这一部分的应用场景大概只局限于冷门的语言特性和巧妙的代码逻辑.
> 随着语言本身的更新，原先冷门的特性也可能变热门. 开发人员应该紧跟趋势，在特性或思路可被大众直接理解时，适时移除这部分注释.

## 代码规范

功能的最终落实体现在代码上，所以这一点也很关键. 也不要认为有了详细注释就不用在意代码可读性了，因为注释不能体现所有的代码实现细节，我们在编写代码时就要注意可读性.

### 功能安排

函数不是固定操作的别名，它应该反映出函数本身的特征——输入一系列值，得到另一系列“值”. 只不过”输出的值“在编程中可能并不是量，也可能是一种结果.
因此，在这里约定，应避免编写不接受输入而只产生固定输出的函数，在代码编写的过程中也要注意避免出现这样的代码.

> 也要注意例外情况，在这里只是说避免. 如果你确实需要无规律地重复某一系列固定输出的操作（当然这种场景很少），那就需要把函数看作固定操作的别名了.

同时，函数的功能应尽可能"小". 
什么叫"小"呢？以命题举例，一个复杂命题往往需要拆分成最基本的原子命题才能通过组合反映出性质. 函数就是这样的原子命题.
只有把函数写的尽可能"原子化"，才能提高函数的复用性.

> 当然，也不能太过细化. 在编写时还是以复用性为主要考虑因素.

### 内容安排

你可能会需要在函数中使用自己的复合类型，比如类、枚举等等. 这些完全可以使用，但注意不要和其他成员写的类型名重合，命名要有自己的规范.
推荐在函数需要接受多个量或输出多个量，且这些量组合在一起有特殊意义时编写自己的复合类型，不然很难看出意义在哪.

参数安排也是有讲究的，这一点在不同的框架中会有不同的要求，建议遵照框架推荐的安排方案.

在内部的代码也要注意异常情形（应该没有代码会一点异常都没有吧），这一点java做的比较好，有强制要求写出可能抛出的异常类型.
> 这一点在c++中亦有记载，但这一功能已经不被社区采用了，好像是叫异常规范？不记得了